!function(){"use strict";let t,s,c;const u=e=>e&&t.push(e);let p=console.error;const r=e=>"function"==typeof e,d=e=>"object"==typeof e,f=e=>{try{return e?.()}catch(e){p(e)}};function h(e,t){this.fn=e,this.cb=t,this.value=NaN,this.cmp=null}function v(e,t,n){e=new h(e,t);return n&&Object.assign(e,n),c.watchers.push(e),e}function g(e,t,n){n&&(e.addEventListener(t,n),u(()=>{e.removeEventListener(t,n)}))}function l(e){this.parent=e,this.children=[],this.watchers=[],this.prefix=[]}const m=e=>Array.isArray(e),b=(t,n,o)=>{if(o<0||!t||!n)return t!==n;if(t!==n){var e=d(t),l=d(n);if(!e||!l)return t!==n;e=m(t);if(e!==m(n))return!0;if(e){if(t.length!==n.length)return!0;for(let e=0;e<t.length;e++)if(b(t[e],n[e],o-1))return!0}else{var r,i,a={};for(r in t){if(b(t[r],n[r],o-1))return!0;a[r]=!0}for(i in n)if(!a[i])return!0}}return!1};function y(n){return function(e,t){b(e.value,t,n)&&(e.value=function t(e,n){if(n<0||!e||!d(e))return e;if(e instanceof Date)return e;if(e instanceof Element)return e;if(m(e))return e.map(e=>t(e,n-1));var o,l={};for(o in e)l[o]=t(e[o],n-1);return l}(t,n),!e.idle)&&e.cb(t),e.idle=!1}}const x=y(10),$=(e,t)=>{let n=!1;for(var o in t)e.value[o]!=t[o]&&(n=!0),e.value[o]=t[o];n&&!e.idle&&e.cb(t),e.idle=!1},O=e=>{e.cmp?e.cmp(e,e.fn()):(e.value=e.fn(),e.cb(e.value))};let i={};const w=(e,t)=>{let n=i[e];var o;return n||((o=document.createElement("template")).innerHTML=e.replace(/<>/g,"\x3c!----\x3e"),n=o.content,2&t||n.firstChild!=n.lastChild||(n=n.firstChild),i[e]=n),1&t?n.cloneNode(!0):n},a=(e,t,n)=>{for(var o;e&&(o=e.nextSibling,n(e),e!=t);)e=o},n=Promise.resolve();function C(e){return e&&n.then(e),n}let k,S;const A=()=>{let t=k.$cd=c=new l(void 0);t.component=k;let n,o=[0];var e=e=>(o[0]++,n||(n=!0,C(()=>{try{{var a=t;var s=o;let r=10,i;for(;0<=r;){let e=0;var c=[];let t,n,o=a,l=0;for(;o;){for(t=0;t<o.prefix.length;t++)o.prefix[t]();for(t=0;t<o.watchers.length;t++)n=(i=o.watchers[t]).fn(),i.value!==n&&(s[0]=0,i.cmp?i.cmp(i,n):i.cb(i.value=n),l+=s[0]);o.children.length&&c.push.apply(c,o.children),o=c[e++]}if(r--,!l)break}r<0&&p("Infinity changes: ",i);return}}finally{n=!1}})),e);return k.$apply=e,(k.$push=e)(),e};var E=l=>(e={})=>{S=e.context||{};var t=k,n=c,o=k={$option:e};c=null;try{o.$dom=l(e)}finally{k=t,c=n,S=null}return o};const N=(e,t,n={},o,l,r,i)=>{let a,s;if(o&&(s=v(o,e=>{a.$push?.(e),a.$apply?.()},{value:{},idle:!0,cmp:l}),O(s),n.props=s.value),i&&O(v(i,e=>{n.$class=e,a?.$apply?.()},{value:{},cmp:$})),a=((e,t,n={})=>{n.context={...t};let o=f(()=>e(n));return o=o instanceof Node?{$dom:o}:o})(e,t,n),r&&a?.$exportedProps){let t=c,e=new h(a.$exportedProps,e=>{r(e),(e=>{for(;e.parent;)e=e.parent;return e.component})(t).$apply(),a.$push(s.fn()),a.$apply()});Object.assign(e,{idle:!0,cmp:l,value:s.value}),a.$cd.watchers.push(e)}return a};var V,I,P,j=E(e=>{const t=A();let n=e.props||{},{values:o,options:l}=n;k.$push=e=>({values:o=o,options:l=l}=n=e),k.$exportedProps=()=>({values:o,options:l});let r,i,a=new Set;s.push(()=>{t(),console.log("onmount options",l),a.add("values"),a.add("options"),C().then(()=>{t(),a.delete("options"),a.delete("values")}),i=window.$(r).selectize({options:l,items:o,delimiter:",",create:!1,maxItems:null})[0].selectize}),u(()=>{i&&i.destroy()}),v(()=>JSON.stringify(o),e=>{var t,n;i&&(console.log("checking if to execute onChangeValues"),a.has("values")&&console.log("aborting"),a.has("values")||(console.log("in onChangeValues"),t=l.map(e=>e.value),n=new Set(t),console.log("existingOptionValues",t),i.clear(!0),o.forEach(e=>{var t;n.has(e)||(t={value:e,text:e},l.push(t),i.addOption(t)),i.addItem(e,!0)}),console.log("values is ",o),a.add("options"),C().then(()=>{a.delete("options")})))},{cmp:y(0)}),v(()=>JSON.stringify(l),e=>{if(i&&(console.log("checking if to execute onChangeOptions"),a.has("options")&&console.log("aborting"),!a.has("options"))){console.log("in onChangeOptions");var t=_.intersection(o,_.pluck(l,"value")),n=new Set(t);a.add("values");for(let e=o.length-1;0<=e;e--)n.has(o[e])||(console.log("removing ",o[e]," from values"),o.splice(e,1));console.log("values now ",o),i.clearOptions(!0),i.clear(!0),i.addOption(l),_.each(o,e=>{i.addItem(e,!0)}),C().then(()=>{a.delete("values")})}},{cmp:y(0)});e=w('<div class="selectize-container"></div>',1);return r=e}),E=E(e=>{const t=A();var n=S;let o=[],l=[],r=5;var i=w("<button> Set Both </button> <button> Set Options </button> <button> Set Values</button> <button> Add to Options </button> <button> Add to Values </button> ",3),[a,s,c,u,p]=((e,t)=>{let n=[],o,l;var r=(e,t)=>e.charCodeAt()-t;for(o=0;o<t.length;o++){var i=t[o];switch(i){case">":e=e.firstChild;break;case"+":e=e.firstChild;case".":n.push(e);break;case"!":for(l=42*r(t[++o],48)+r(t[++o],48);l--;)e=e.nextSibling;break;case"#":e=n[26*r(t[++o],48)+r(t[++o],48)];break;default:if(97<=(l=r(i,0)))e=n[l-97];else for(l-=48;l--;)e=e.nextSibling}}return n})(i,"+2.2.2.2.");return g(a,"click",e=>{t(),l=[{value:"1",text:"Option 1"},{value:"2",text:"Option 2"},{value:"3",text:"Option 3"}],o=["1","3"]}),g(s,"click",e=>{t(),l=[{value:"1",text:"Option 1"},{value:"2",text:"Option 2"},{value:"3",text:"Option 3"},{value:"4",text:"Option 4"}]}),g(c,"click",e=>{t(),o=["1","5"]}),g(u,"click",e=>{t(),r++,console.log("Adding option ",r),l.push({value:""+r,text:"Option "+r})}),g(p,"click",e=>{t(),r++,console.log("Adding value ",r),o.push(r+"")}),a=i,(s=N(j,n,{},()=>({values:o,options:l}),x,e=>({values:o=o,options:l=l}=e)))&&a.appendChild(s.$dom||s),i});{var z=document.body,L=void 0;let e,n,o,l=t=[];s=[];try{var J=(e=E(L)).$dom;delete e.$dom,11==J.nodeType?(n=J.firstChild,o=J.lastChild):n=o=J,z.appendChild(J),V=s,I=l,V?.forEach(e=>{e=f(e);!e||P&&!r(e)||I.push(e)})}finally{t=s=null}e.destroy=()=>{var e,t=l;try{t?.forEach(e=>e?.())}catch(e){p(e)}t=n,e=o,a(t,e,e=>e.remove())},e}}();